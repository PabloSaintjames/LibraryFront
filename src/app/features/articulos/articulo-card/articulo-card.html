<mat-card class="book-card">

  <!-- PORTADA -->
  <img
    mat-card-image
    [src]="articulo.portadaUrl || 'assets/placeholder-book.jpg'"
    alt="Portada del libro"
  />

  <!-- OVERLAY ALQUILADO -->
  @if (!articulo.disponible) {
    <div class="overlay">
      <span>ALQUILADO</span>
    </div>
  }

  <!-- CONTENIDO -->
  <mat-card-content>
    <h3 class="title">{{ articulo.titulo }}</h3>

    @if (articulo.autor) {
      <p class="author">{{ articulo.autor }}</p>
    }
  </mat-card-content>

  <!-- ACCIONES -->
  <mat-card-actions align="end">

    <!-- MODO ALQUILAR -->
    @if (mode === 'alquilar' && articulo.disponible) {

      @if (puedeAlquilar) {
        <button
          mat-raised-button
          color="accent"
          (click)="accion.emit()"
        >
          Alquilar
        </button>
      } @else {
        <span class="muted">ðŸ”’ Solo usuarios registrados</span>
      }

    }

    <!-- MODO DEVOLVER -->
    @if (mode === 'devolver') {
      <button
        mat-raised-button
        color="primary"
        (click)="accion.emit()"
      >
        Devolver
      </button>

    }

  </mat-card-actions>

</mat-card>
