<h2>ğŸ“¦ Alquileres</h2>

@if (mensaje()) {
  <div class="alert success">{{ mensaje() }}</div>
}

@if (alquileres().length === 0) {
  <p>No hay alquileres activos</p>
} @else {
  <ul class="card-list">
    @for (a of alquileres(); track a.id) {

      <div class="card">
        <strong>{{ a.articulo }}</strong>
        <div>ğŸ‘¤ {{ a.usuario }}</div>
        <small>ğŸ“… {{ a.fechaAlquiler }}</small>

        @if (a.vigente) {

          @if (authService.hasRole('USUARIO', 'OPERARIO', 'ADMINISTRADOR')) {
            <button
              (click)="devolver(a.id)"
              [disabled]="loadingId() === a.id">

              @if (loadingId() === a.id) {
                â³ Devolviendo...
              } @else {
                ğŸ”„ Devolver
              }

            </button>
          } @else {
            <span class="muted">ğŸ”’ No autorizado</span>
          }

        } @else {
          <span>âœ… Devuelto</span>
        }

      </div>
    }

  </ul>
}
